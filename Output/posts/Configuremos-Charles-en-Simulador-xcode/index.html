<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"/><meta name="og:site_name" content="Marcelo Laprea"/><link rel="canonical" href="https://your-website-url.com/posts/Configuremos-Charles-en-Simulador-xcode"/><meta name="twitter:url" content="https://your-website-url.com/posts/Configuremos-Charles-en-Simulador-xcode"/><meta name="og:url" content="https://your-website-url.com/posts/Configuremos-Charles-en-Simulador-xcode"/><title>Configuremos Charles en el simulador de iOS con Xcode | Marcelo Laprea</title><meta name="twitter:title" content="Configuremos Charles en el simulador de iOS con Xcode | Marcelo Laprea"/><meta name="og:title" content="Configuremos Charles en el simulador de iOS con Xcode | Marcelo Laprea"/><meta name="description" content="Con Charles podremos depurar solicitudes de red en nuestras apps y poder testear de una forma rápida y sencilla nuestra capa de red."/><meta name="twitter:description" content="Con Charles podremos depurar solicitudes de red en nuestras apps y poder testear de una forma rápida y sencilla nuestra capa de red."/><meta name="og:description" content="Con Charles podremos depurar solicitudes de red en nuestras apps y poder testear de una forma rápida y sencilla nuestra capa de red."/><meta name="twitter:card" content="summary"/><link rel="stylesheet" href="/styles.css" type="text/css"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><link rel="shortcut icon" href="/images/favicon.png" type="image/png"/><link rel="alternate" href="/feed.rss" type="application/rss+xml" title="Subscribe to Marcelo Laprea"/></head><body class="item-page"><header><div class="wrapper"><a class="site-name" href="/">Marcelo Laprea</a></div></header><div class="wrapper"><article><div class="content"><p>Antes de empezar con este post, tenemos que preguntarnos que es <strong>Charles</strong>.</p><blockquote><p>"Charles es un proxy HTTP / monitor HTTP / proxy inverso que permite a un desarrollador ver todo el tráfico HTTP y SSL / HTTPS entre su máquina e Internet. Esto incluye solicitudes, respuestas y los encabezados HTTP (que contienen las cookies y la información de almacenamiento en caché)." <a href="https://www.charlesproxy.com" target="_blank">Charles</a></p></blockquote><p>Ahora, para que podemos usar <strong>Charles</strong>?. Básicamente para depurar solicitudes de red en nuestras aplicaciones. Hay muchas veces que como desarrolladores, queremos cambiar algunas solicitudes para ver si falla o forzar a la aplicación a recibir un valor incorrecto para ver cómo reacciona nuestra aplicación a esa solicitud. En otras ocasiones, solo queremos ver cuáles son las respuestas para descubrir por qué la aplicación falla. Hay muchas cosas que queremos probar, y a veces no sabemos cómo. Podemos hacer todo esto con <strong>Charles</strong>. Así que empecemos.</p><ul><li><strong>Instala <a href="https://www.charlesproxy.com/download/" target="_blank">Charles</a> haciendo click en el link.</strong></li></ul><ul><li><strong>Abre Charles y haz click en el Menú: Help &gt; SSL Proxying, y selecciona <em>Install Charles Root Certificate in iOS Simulators</em></strong>.</li></ul><img src="/assets/img/posts/2020-01-18-Setup-Charles-in-Simulator-xcode/p1.png" alt="Charles">

- **Ahora verifica que tienes la opción macOS Proxy seleccionada, para que podemos escuchar el trafico de red, así que selecciona en el Menú: Proxy > macOS Proxy**

<img src="/assets/img/posts/2020-01-18-Setup-Charles-in-Simulator-xcode/p2.png" alt="Charles">

- **Reinicie su simulador y asegúrese de estar grabando el tráfico entrante. Deberías ver en la parte inferior derecha la etiqueta _Recording_. Si no, simplemente haga click en _Start Recording_ buttom**

<img src="/assets/img/posts/2020-01-18-Setup-Charles-in-Simulator-xcode/p3.png" alt="Charles">

- **Ejecute la aplicación en el simulador, y en este momento, debería ver el tráfico entrante a la izquierda**

- **Ahora, debe asegurarse de habilitar SSL Proxying para las URL que desea probar. Hay dos formas de hacer esto:**

* La primera forma es haciendo click en Menú: Proxy > SSL Proxying Settings y luego agregue la URL que desee.

   <img src="/assets/img/posts/2020-01-18-Setup-Charles-in-Simulator-xcode/p4.png" alt="Charles">

   <img src="/assets/img/posts/2020-01-18-Setup-Charles-in-Simulator-xcode/p5.png" alt="Charles">

- La segunda forma es cuando ve el tráfico entrante en la parte izquierda, simplemente haga click derecho en la URL que desee y haga click en _Enable SSL Proxying_

   <img src="/assets/img/posts/2020-01-18-Setup-Charles-in-Simulator-xcode/p6.png" alt="Charles">

- **Ahora reinicie el simulador y verá las respuestas.**

- **Si hace clic en la respuesta y en el _Contenido_, puede ver el JSON que estamos obteniendo. Ahora podemos comprobar por qué recibimos un error en la aplicación si ese es el caso.**

<img src="/assets/img/posts/2020-01-18-Setup-Charles-in-Simulator-xcode/p7.png" alt="Charles">

- **Vamos a mapear localmente algunas respuestas para que podamos simularlas. Haga click derecho en la respuesta y haga click _Save Response..._**

<img src="/assets/img/posts/2020-01-18-Setup-Charles-in-Simulator-xcode/p8.png" alt="Charles">

- **Ahora haga click derecho en la solicitud y haga click en _Viewer Mappings..._ y copie lo que son el Host, el Port y la Path, porque lo vamos a usar a continuación.**

<img src="/assets/img/posts/2020-01-18-Setup-Charles-in-Simulator-xcode/p9.png" alt="Charles">

<img src="/assets/img/posts/2020-01-18-Setup-Charles-in-Simulator-xcode/p10.png" alt="Charles">

- **Ahora haga click en el Menú en: Tools > Map Local... y agrega uno nuevo. Para Local path: seleccionará la respuesta que guardó y para Host, Port y Path la completará con la información que obtuvo en el paso anterior.**

<img src="/assets/img/posts/2020-01-18-Setup-Charles-in-Simulator-xcode/p11.png" alt="Charles">

<img src="/assets/img/posts/2020-01-18-Setup-Charles-in-Simulator-xcode/p12.png" alt="Charles">

<img src="/assets/img/posts/2020-01-18-Setup-Charles-in-Simulator-xcode/p13.png" alt="Charles">

- **Ahora puede editar el JSON y comenzar a probar sus respuestas de red**

### Así es como configuras Charles para iOS Simulator. Para cualquier consulta puede contactarme en mi Twitter, Linkedin o correo electrónico.

## Muchas gracias
</div><span>Tagged with: </span><ul class="tag-list"><li><a href="/tags/swift">Swift</a></li><li><a href="/tags/debugging">Debugging</a></li><li><a href="/tags/spanish">Spanish</a></li></ul></article></div><footer><p>Generated using <a href="https://github.com/johnsundell/publish">Publish</a></p><p><a href="/feed.rss">RSS feed</a></p></footer></body></html>